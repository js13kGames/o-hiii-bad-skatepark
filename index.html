<!doctype html>
<head>
<title>EMOJIPHOBIA</title>
<link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>🛹</text></svg>">
<style>
@font-face{font-family: emoji; src: url(Twemoji.ttf)}
@font-face{font-family:i;src:local(impact),url(//xem.github.io/geoquiz2/i.ttf)}
body { background: #ddd; }
canvas { background: #fff; display: block; margin: calc(50vh - 300px) auto;}
</style>
</head>
<body>
<canvas id=c width=800 height=600></canvas>
<script>
lerp = (start, end, amt) => {
  if(amt > 1) amt = 1;
  return (1-amt)*start+amt*end
}

easeInOutQuad = (x) => {
  if(x > 1) x = 1;
  return x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2;
}

x = c.getContext("2d");
x.fillStyle = "#000";
offsets1 = [20,60,110,140,187,240,290,320,370,410,460,510,555,605,655,705,735];
offset = 10;
title=["T","R","I","S","K","A","I","D","E","K","A","P","H","O","B","I","A"]
offsets2 = [515,685,130,380,425,475,155,315,555,730,270,590,80,20,220,180,635];

amt = 0;
letter = -4;
X = 0,
Y = 200;
amt2 = -250;
setInterval(()=>{
  c.width ^= 0;
  for(i in title){
    x.font = "90px i, impact, calibri, arial";
    x.fillStyle = "#000";
    if(i == letter){
      x.fillText(title[i], X=lerp(offsets1[i],offsets2[i],easeInOutQuad(amt)), Y=lerp(150,250,easeInOutQuad(amt)));
    }
    else if(i < letter){
      x.fillText(title[i], X=offsets2[i], Y=250);
    }
    else if(i > letter){
      x.fillText(title[i], X=offsets1[i], Y=150);
    }
    if(title[i] == "I") {
      x.fillStyle = "#fff";
      x.fillRect(X, Y - 60, 25, 5);
    }
  }
  if(amt >= 1){
    amt = 0;
    letter ++;
    y = 0;
  }
  amt += .1;
  amt2 += 4;

  x.font = "50px i, impact, calibri, arial";
  x.fillText("PLAY",350,550);
  
  x.font = "120px emoji";
  x.fillText("🕺",amt2-30,110);
  x.font = "100px emoji";
  x.translate(amt2-40,130);
  x.rotate(.5);
  x.fillText("🛹",0,0);

}, 16)

</script>
</body>
